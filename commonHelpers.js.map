{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function serviceGetImage(query){\n\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '43229281-da9ce3bce46360bd3cf91ebb8';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\n\nexport { serviceGetImage };\n","function createImageMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <li classs=\"list-item\">\n      <a class=\"item-link\" href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\">\n      <div class=\"img-desc\">\n        <h2 class=\"title\">Likes <p class=\"p\">${likes}</p></h2>\n        <h2 class=\"title\">Views <p class=\"p\">${views}</p></h2>\n        <h2 class=\"title\">Comments <p class=\"p\">${comments}</p></h2>\n        <h2 class=\"title\">Downloads <p class=\"p\">${downloads}</p></h2>\n      </div>\n      </a>\n      </li>`).join('');\n    \n}\n\nexport { createImageMarkup };","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { serviceGetImage } from './js/pixabay-api';\nimport { createImageMarkup } from './js/render-functions';\n\nconst form = document.querySelector('.js-form');\nconst loader = document.querySelector('.preloader');\nconst gallery = document.querySelector('.js-list');\n\nform.addEventListener('submit', handlerSearch);\n\nfunction handlerSearch(event) {\n    event.preventDefault();\n    \n    const inputValue = event.currentTarget.elements.query.value\n      .trim()\n      .toLowerCase();\n    loader.style.display = 'block';\n    serviceGetImage(inputValue)\n      .then(data => {\n        if (!data.hits.length) {\n          gallery.innerHTML = '';\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            backgroundColor: 'red',\n            messageColor: '#fff',\n          });\n          return;\n        }\n        gallery.innerHTML = createImageMarkup(data.hits);\n        const galleryList = new SimpleLightbox('.gallery a', {\n          captionDelay: 250,\n        });\n        galleryList.refresh();\n      })\n      .catch(err => console.log(err))\n      .finally(() => loader.style.display = 'none');\n\n    event.currentTarget.reset();\n}\n"],"names":["serviceGetImage","query","BASE_URL","API_KEY","params","resp","createImageMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","loader","gallery","handlerSearch","event","inputValue","data","iziToast","SimpleLightbox","err"],"mappings":"6vBAAA,SAASA,EAAgBC,EAAM,CAE7B,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAQ,CACjD,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CCnBA,SAASC,EAAkBC,EAAK,CAC5B,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,mCAE9DL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA,+CAE1CC,CAAK;AAAA,+CACLC,CAAK;AAAA,kDACFC,CAAQ;AAAA,mDACPC,CAAS;AAAA;AAAA;AAAA,YAGhD,EAAE,KAAK,EAAE,CAErB,CCJA,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAK,iBAAiB,SAAUG,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,MAAM,MACnD,KAAM,EACN,cACHH,EAAO,MAAM,QAAU,QACvBhB,EAAgBoB,CAAU,EACvB,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBJ,EAAQ,UAAY,GACpBK,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,MACjB,aAAc,MAC1B,CAAW,EACD,MACD,CACDL,EAAQ,UAAYX,EAAkBe,EAAK,IAAI,EAC3B,IAAIE,EAAe,aAAc,CACnD,aAAc,GACxB,CAAS,EACW,QAAO,CAC3B,CAAO,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAMR,EAAO,MAAM,QAAU,MAAM,EAE9CG,EAAM,cAAc,OACxB"}