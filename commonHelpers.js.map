{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function serviceGetImage(query) {\n\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '43229281-da9ce3bce46360bd3cf91ebb8';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\n\nexport { serviceGetImage };\n","function createMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <li><a class=\"modal\" href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\">\n      <div>\n        <h2>Likes <p>${likes}</p></h2>\n        <h2>Views <p></p>${views}</h2>\n        <h2>Comments <p>${comments}</p></h2>\n        <h2>Downloads <p>${downloads}</p></h2>\n      </div>\n      </a>\n      </li>`).join('');\n    \n}\n\nexport { createMarkup };","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { serviceGetImage } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst form = document.querySelector('.js-form');\nconst list = document.querySelector('.js-list');\n\nform.addEventListener('submit', handlerSearch);\n// list.addEventListener('click', handlerOpenModal)\n\nfunction handlerSearch(event) {\n  event.preventDefault();\n\n  const inputValue = event.currentTarget.elements.query.value\n    .trim()\n    .toLowerCase();\n\n    serviceGetImage(inputValue).then(data => {\n        if (!data.hits.length) {\n            list.innerHTML = ''\n            alert('no image')\n            return\n      }\n    list.innerHTML = createMarkup(data.hits);\n    new SimpleLightbox('.gallery a');\n    });\n    event.currentTarget.reset();\n}\n\n// function handlerOpenModal(event) {\n//     if (event.target === event.currentTarget) {\n//         return;\n//     }\n//     const currentCard = event.target.closest('li');\n//     const largeImageURL = currentCard.dataset.source;\n\n// }\n"],"names":["serviceGetImage","query","BASE_URL","API_KEY","params","resp","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","list","handlerSearch","event","inputValue","data","SimpleLightbox"],"mappings":"svBAAA,SAASA,EAAgBC,EAAO,CAE9B,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAQ,CACjD,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CCnBA,SAASC,EAAaC,EAAK,CACvB,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,mCAC9DL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA,uBAElEC,CAAK;AAAA,2BACDC,CAAK;AAAA,0BACNC,CAAQ;AAAA,2BACPC,CAAS;AAAA;AAAA;AAAA,YAGxB,EAAE,KAAK,EAAE,CAErB,CCNA,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAO,SAAS,cAAc,UAAU,EAE9CD,EAAK,iBAAiB,SAAUE,CAAa,EAG7C,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,MAAM,MACnD,KAAM,EACN,cAEDlB,EAAgBmB,CAAU,EAAE,KAAKC,GAAQ,CACrC,GAAI,CAACA,EAAK,KAAK,OAAQ,CACnBJ,EAAK,UAAY,GACjB,MAAM,UAAU,EAChB,MACL,CACHA,EAAK,UAAYV,EAAac,EAAK,IAAI,EACvC,IAAIC,EAAe,YAAY,CACnC,CAAK,EACDH,EAAM,cAAc,OACxB"}